{"version":3,"sources":["webpack:///./js/index.js","webpack:///./js/fetchCountries.js","webpack:///./template/countries-list.hbs","webpack:///./template/country-list-item.hbs"],"names":["refs","searchForm","document","querySelector","countryList","searchInput","insertListItem","items","insertAdjacentHTML","addEventListener","event","preventDefault","debounce","e","searchQuery","target","value","innerHTML","name","fetch","then","response","json","catch","error","console","log","data","markup","countryListItemsTemplate","renderCountriesList","countriesListTemplate","buildCountriesList","length","PNotify","defaults","styling","title","text","alert","searchFormInputHandler","Handlebars","__webpack_require__","module","exports","template","1","container","depth0","helpers","partials","helper","escapeExpression","helperMissing","call","nullContext","hash","compiler","main","stack1","each","fn","program","inverse","noop","useData","alias1","alias2","alias4","capital","population","languages","flag","2","lambda"],"mappings":"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","file":"main.97f3776a42467599e71c.js","sourcesContent":["import fetchCountries from './fetchCountries.js';\r\nimport countryListItemsTemplate from '../template/country-list-item.hbs';\r\nimport countriesListTemplate from '../template/countries-list.hbs';\r\nimport PNotify from '../../node_modules/pnotify/dist/es/PNotify.js';\r\nimport PNotifyStyleMaterial from '../../node_modules/pnotify/dist/es/PNotifyStyleMaterial.js';\r\nimport debounce from 'lodash.debounce';\r\nimport '../styles.css';\r\n\r\nconst refs = {\r\n  searchForm: document.querySelector('#search-form'),\r\n  countryList: document.querySelector('#country-list'),\r\n  searchInput: document.querySelector('.search__input'),\r\n};\r\n\r\nrefs.searchForm.addEventListener('submit', event => {\r\n  event.preventDefault();\r\n});\r\n\r\nrefs.searchForm.addEventListener(\r\n  'input',\r\n  debounce(e => {\r\n    searchFormInputHandler(e);\r\n  }, 500),\r\n);\r\n\r\nfunction searchFormInputHandler(e) {\r\n  const searchQuery = e.target.value;\r\n\r\n  clearListItems();\r\n\r\n  fetchCountries(searchQuery).then(data => {\r\n    const markup = buildListItemMarkup(data);\r\n    const renderCountriesList = buildCountriesList(data);\r\n    if (!data) {\r\n      return;\r\n    } else if (data.length > 10) {\r\n      PNotify.defaults.styling = 'material';\r\n      PNotify.error({\r\n        title: 'Oh No!',\r\n        text: 'Too many matches found.Please enter a more specific query',\r\n      });\r\n    } else if (data.length >= 2 && data.length <= 10) {\r\n      insertListItem(renderCountriesList);\r\n    } else if (data.length === 1) {\r\n      insertListItem(markup);\r\n    } else {\r\n      alert('Ничего не найдено.Корректно введите запрос');\r\n    }\r\n  });\r\n}\r\n\r\nfunction insertListItem(items) {\r\n  refs.countryList.insertAdjacentHTML('beforeend', items);\r\n}\r\n\r\nfunction buildCountriesList(items) {\r\n  return countriesListTemplate(items);\r\n}\r\n\r\nfunction buildListItemMarkup(items) {\r\n  return countryListItemsTemplate(items);\r\n}\r\n\r\nfunction clearListItems() {\r\n  refs.countryList.innerHTML = '';\r\n}\r\n","// const headers = { 'Content-Type': 'text/plain' };\r\n\r\nexport default function fetchCountries(name) {\r\n  return fetch(`https://restcountries.eu/rest/v2/name/${name}`)\r\n    .then(response => {\r\n      if (name) {\r\n        return response.json();\r\n      } else {\r\n        return;\r\n      }\r\n    })\r\n    .catch(error => console.log(error));\r\n}\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<li class=\\\"country-item\\\">\"\n    + container.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</li>\\r\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<li class=\\\"item\\\">\\r\\n    <article class=\\\"article\\\">\\r\\n        <div class=\\\"name\\\">\\r\\n            <h1 class=\\\"name-country\\\">\"\n    + alias4(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h1>\\r\\n        </div>\\r\\n        <div class=\\\"country-characteristics\\\">\\r\\n            <h2 class=\\\"capital\\\">Capital : \"\n    + alias4(((helper = (helper = helpers.capital || (depth0 != null ? depth0.capital : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"capital\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</h2>\\r\\n            <span class=\\\"population\\\">Population : \"\n    + alias4(((helper = (helper = helpers.population || (depth0 != null ? depth0.population : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"population\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</span>\\r\\n            <div class=\\\"langs\\\">\\r\\n                <h2 class=\\\"lang-title\\\">Language : </h2>\\r\\n                <ul class=\\\"lang-list\\\">\\r\\n                    \"\n    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.languages : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"\\r\\n                </ul>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"img-flag\\\">\\r\\n            <img src=\\\"\"\n    + alias4(((helper = (helper = helpers.flag || (depth0 != null ? depth0.flag : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"flag\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" alt=\\\"\\\" width=\\\"300\\\" height=\\\"250\\\">\\r\\n        </div>\\r\\n    </article>\\r\\n</li>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \" <li class=\\\"lang-item\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.name : depth0), depth0))\n    + \"</li> \";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}